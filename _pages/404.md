---
permalink: /404.html
layout: null
---
<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>404 - Harudog System Glitch</title>
    <style>
        body { margin: 0; padding: 0; background: #000; overflow: hidden; font-family: 'Courier New', monospace; }
        canvas { display: block; }

        /* 终端样式 */
        #terminal-container {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 80%;
            max-width: 600px;
            height: 200px;
            background: rgba(0, 0, 0, 0.85);
            border: 1px solid #0F0;
            box-shadow: 0 0 15px #0F0;
            color: #0F0;
            padding: 15px;
            display: flex;
            flex-direction: column;
            z-index: 100;
        }

        #history {
            flex-grow: 1;
            overflow-y: auto;
            margin-bottom: 10px;
            font-size: 14px;
            scrollbar-width: thin;
            scrollbar-color: #0F0 transparent;
        }
        /* 隐藏滚动条 (Chrome/Safari) */
        #history::-webkit-scrollbar { width: 5px; }
        #history::-webkit-scrollbar-thumb { background: #0F0; }

        .input-line {
            display: flex;
            align-items: center;
            font-size: 16px;
        }

        .prompt { margin-right: 10px; white-space: nowrap; }

        #user-input {
            background: transparent;
            border: none;
            color: #0F0;
            outline: none;
            width: 100%;
            font-family: 'Courier New', monospace;
            font-size: 16px;
        }

        .system-msg { color: #fff; font-weight: bold; }
        .error-msg { color: #ff5555; }
    </style>
</head>
<body>
    <canvas id="matrix"></canvas>

    <div id="terminal-container">
        <div id="history">
            <div class="system-msg">Critical Error: Page 404 Not Found.</div>
            <div>Welcome to Harudog's Survival Terminal.</div>
            <div style="color: #888; font-size: 12px;">------------------------------------</div>
            <div>[1] Return to Oasis (Home)</div>
            <div>[2] Exit Reality (Close Page)</div>
            <div style="color: #888; font-size: 12px;">------------------------------------</div>
        </div>
        <div class="input-line">
            <span class="prompt">harudog@oasis:~$</span>
            <input type="text" id="user-input" autofocus autocomplete="off">
        </div>
    </div>

    <script>
        // --- 1. 代码雨逻辑 ---
        const canvas = document.getElementById('matrix');
        const ctx = canvas.getContext('2d');

        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        const chars = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZアァカサタナハマヤャラワ';
        const fontSize = 16;
        const columns = canvas.width / fontSize;
        const drops = Array(Math.floor(columns)).fill(1);

        function drawMatrix() {
            ctx.fillStyle = 'rgba(0, 0, 0, 0.05)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = '#0F0';
            ctx.font = fontSize + 'px monospace';

            for (let i = 0; i < drops.length; i++) {
                const text = chars[Math.floor(Math.random() * chars.length)];
                ctx.fillText(text, i * fontSize, drops[i] * fontSize);
                if (drops[i] * fontSize > canvas.height && Math.random() > 0.975) drops[i] = 0;
                drops[i]++;
            }
        }
        setInterval(drawMatrix, 33);

        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });

        // --- 2. 终端交互逻辑 ---
        const input = document.getElementById('user-input');
        const history = document.getElementById('history');

        const quacks = [
            "咕咕咕嘎嘎！",
            "嘎？咕咕——嘎嘎！",
            "咕嘎咕嘎咕嘎嘎嘎嘎！",
            "（系统提示：对方不想理你并向你扔了一串咕咕）",
            "嘎嘎嘎！咕咕？",
            "FATAL ERROR: GUGU-GAGA overflow.",
            "检测到不明生物发出的咕咕嘎嘎声..."
        ];

        function printLog(msg, className = '') {
            const div = document.createElement('div');
            if (className) div.className = className;
            div.innerText = msg;
            history.appendChild(div);
            history.scrollTop = history.scrollHeight;
        }

        input.addEventListener('keydown', function(e) {
            if (e.key === 'Enter') {
                const val = input.value.trim();
                printLog(`harudog@oasis:~$ ${val}`); // 显示用户刚才输入的内容
                input.value = '';

                if (val === '1') {
                    printLog("Redirecting to Oasis...", "system-msg");
                    setTimeout(() => window.location.href = '/', 800);
                } 
                else if (val === '2') {
                    printLog("Attempting to close window...", "error-msg");
                    setTimeout(() => {
                        window.close();
                        // 如果 window.close() 失败（浏览器限制）
                        printLog("Error: Reality cannot be closed automatically. Please close this tab manually.", "error-msg");
                    }, 800);
                } 
                else if (val !== "") {
                    // 随机返回咕咕嘎嘎
                    const randomMsg = quacks[Math.floor(Math.random() * quacks.length)];
                    printLog(randomMsg);
                }
            }
        });

        // 点击终端任何地方自动聚焦输入框
        document.getElementById('terminal-container').addEventListener('click', () => {
            input.focus();
        });
    </script>
</body>
</html>

